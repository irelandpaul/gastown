# Example Scenario: Sarah Registers
# This is a reference scenario for AI User Testing
#
# Scenarios define what a user persona is trying to accomplish
# and how the test should be configured.

scenario: sarah_registers
version: 1
tags:
  - registration
  - critical-path
  - p0

# Persona describes who is executing this scenario
persona: Sarah, first-time parent, not tech-savvy, 2 kids ages 8 and 11

# Goal describes what the persona should accomplish
# Include context and relevant background information
goal: |
  Register for ScreenCoach and set up profiles for both children.

  Context:
  - Found ScreenCoach through school newsletter
  - Wants to limit gaming during homework hours
  - Has never used parental control software before
  - Uses an iPhone but testing on web today

  Steps to accomplish:
  - Navigate to homepage
  - Find and click registration
  - Complete signup form with email and password
  - Verify email (or skip if test mode)
  - Add first child (age 8)
  - Add second child (age 11)
  - View dashboard with both children

# What defines success
success_criteria:
  - Account created successfully
  - Both child profiles added
  - Dashboard visible with children listed
  - No P0 or P1 blocking issues encountered

# Target Application
environment:
  url: https://staging.screencoach.example.com
  viewport:
    width: 1280
    height: 720

# Wait strategies for page stability
wait_strategies:
  network_idle: true
  animation_complete: true
  min_load_time: 1500
  custom_selectors:
    - "#app-loaded"
    - "[data-ready=true]"

# Retry configuration
retry:
  max_attempts: 3
  on_errors:
    - browser_crash
    - timeout
    - network_error
  not_on:
    - test_failure
    - blocked
  backoff: exponential

# Test data isolation
test_data:
  email_pattern: "sarah+{scenario}+{run_id}@screencoach.test"
  email_inbox: skip_verification
  cleanup_strategy:
    on_success: delete_account
    on_failure: mark_for_review
    on_crash: cleanup_job
  isolation:
    unique_suffix: true

# Recording configuration
recording:
  headed: false
  headed_verification: weekly
  video: true
  trace: true
  screenshots: true

# Timeout (duration format: 5m, 10s, 1h30m, etc.)
timeout: 10m
