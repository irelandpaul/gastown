# AI User Testing Scenario: Password Reset Flow
#
# This scenario tests the password reset/forgot password flow.
# The AI agent will attempt to reset a password and verify
# the process is clear and functional.

scenario: password_reset
version: 1

persona: sarah

goal: |
  As a user who forgot my password, I want to reset it
  so that I can regain access to my account.

  I should be able to:
  - Find the "forgot password" link on login page
  - Enter my email to request reset
  - Understand what happens next
  - Receive clear instructions

success_criteria:
  - Forgot password link is visible on login page
  - Reset request form accepts email
  - Success message confirms email sent
  - Error message shown for non-existent email
  - Instructions are clear about next steps

environment:
  url: http://localhost:5175/login
  viewport:
    width: 1280
    height: 720

test_data:
  # Test with demo account email
  reset_email: "parent@demo.com"
  # Also test with non-existent email
  invalid_email: "nonexistent@example.com"
  cleanup_strategy:
    on_success: keep
    on_failure: keep
    on_crash: keep

wait_strategies:
  network_idle: true
  animation_complete: true
  min_load_time: 500

recording:
  headed: false
  video: true
  trace: true
  screenshots: true

retry:
  max_attempts: 2
  on_errors:
    - browser_crash
    - timeout
  not_on:
    - test_failure
  backoff: exponential

timeout: 3m

tags:
  - auth
  - password-reset
  - forgot-password
  - account-recovery
